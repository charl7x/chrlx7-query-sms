# 快速打包指南

## 🚀 一键打包（推荐）

### 前置条件
- 已激活虚拟环境

### 方法1：使用自动脚本

```bash
# 1. 激活虚拟环境
source venv/bin/activate

# 2. 运行打包脚本
python build.py
```

完成后，在 `release/` 目录会生成：
- `query-sms` - 可执行文件
- `env.example` - 配置示例
- `使用说明.txt` - 使用指南

### 方法2：使用 Make 命令

```bash
# 安装依赖（首次）
make install

# 打包
make build

# 清理并重新打包
make release
```

## 📦 打包后的使用

```bash
# 1. 进入发布目录
cd release

# 2. 创建配置文件
cp env.example .env

# 3. 编辑配置，填入阿里云凭证
nano .env  # 或使用其他文本编辑器

# 4. 运行程序
./query-sms -p 13800138000 -s 20231103
```

## 🎯 添加到系统路径（可选）

如果想在任何位置都能使用：

```bash
# 复制到系统路径
sudo cp release/query-sms /usr/local/bin/

# 创建配置目录
mkdir -p ~/.config/query-sms
cp release/env.example ~/.config/query-sms/.env

# 编辑配置
nano ~/.config/query-sms/.env
```

然后在程序中修改配置加载路径，或通过环境变量指定配置文件位置。

## 📤 分发给他人

### 创建压缩包

```bash
cd release
tar -czf query-sms-macos-$(date +%Y%m%d).tar.gz *
```

### 使用方法（接收者）

```bash
# 解压
tar -xzf query-sms-macos-*.tar.gz

# 配置
cp env.example .env
nano .env

# 运行
./query-sms -p 手机号 -s 日期
```

## 🔧 常见问题

### macOS 安全提示

如果遇到"无法验证开发者"的提示：

```bash
xattr -cr query-sms
```

或者：系统偏好设置 > 安全性与隐私 > 允许运行

### 重新打包

```bash
make clean
make build
```

## 📚 详细文档

更多详细信息请查看 `BUILD.md` 文档。

